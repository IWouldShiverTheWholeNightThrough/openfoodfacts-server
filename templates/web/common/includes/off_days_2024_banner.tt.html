<!-- start templates/[% component.name %] -->

[% banner_off_days_2024_top = BLOCK %]

<a href="[% lang('link_off_days_banner') %]">
    <section id="off-days-2024-banner-top" class="off-days-banner off-days-banner__[% lang('src_off_days_banner') %]">
    </section>
</a>

<script>
    let offD = new Date();
    const offDaysBannerID = document.getElementById('off-days-2024-banner-top');
    let getOffDomain = window.location.origin.split('.');

    function setBannerCookie(bcname, bcval, bcexdays) {
        d.setTime(d.getTime() + (bcexdays*60*60*24*1000));
        let expires = 'expires=' + d.toUTCString();
        // Apply cookie for every domain contains open...facts
        let domain = 'domain=.' + getDomain.slice(1).join('.');
        document.cookie = bcname + '=' + bcval + ';' + expires + ';' + domain + ';SameSite=None;Secure;path=/';
    }

    function getBannerCookie(bcname) {
        const name = bcname + '=';
        const decodedCookies = decodeURIComponent(document.cookie);
        const cookies = decodedCookies.split(';');
        for (const cookie of cookies) {
        let c = cookie;
        while (c.charAt(0) == ' ') { c = c.substring(1); }
        if (c.indexOf(name) == 0) { return c.substring(name.length, c.length); }
        }
        
        return '';
    }

    if (getBannerCookie('off_donation_banner_2023_a') !== '') {
        if (getBannerCookie('off_days_banner_2024_a') !== '') {
            console.log('off_days_banner_2024_a cookie is set');
            offDaysBannerID.style.display = 'none';
        } else {
            console.log('off_days_banner_2024_a cookie is not set');
            offDaysBannerID.style.display = 'flex';
        }
    } else {
        offDaysBannerID.style.display = 'none';
    }
</script>

[% END %]